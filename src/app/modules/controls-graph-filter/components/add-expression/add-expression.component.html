<h3 *ngIf="error">{{ error }}</h3>
<!-- <mat-form-field>
    <mat-label>Script Language</mat-label>
    <mat-select [(ngModel)]="scriptLanguage">
        <mat-option [value]="'javascript'">Javascript</mat-option>
    </mat-select>
</mat-form-field> -->
<mat-form-field>
    <mat-label>Evaluate Mode</mat-label>
    <mat-select [(ngModel)]="evalMode">
        <mat-option [value]="'add'">On Add</mat-option>
        <mat-option [value]="'type'">On Type</mat-option>
    </mat-select>
</mat-form-field>
<div style="display: flex">
    <ngx-codemirror
        style="width: 100%"
        [(ngModel)]="expression"
        (ngModelChange)="evalMode === 'type' ? expressionEval($event) : ''"
        [options]="{
            lineNumbers: true,
            gutter: true,
            lineWrapping: true,
            theme: 'material',
            mode: 'javascript'
        }"
    ></ngx-codemirror>
    <button
        class="not-inline"
        (click)="createExpression()"
        style="transform: scale(0.6)"
        mat-mini-fab
        color="primary"
        aria-label="Example icon button with a delete icon"
    >
        <mat-icon>add</mat-icon>
    </button>
</div>
