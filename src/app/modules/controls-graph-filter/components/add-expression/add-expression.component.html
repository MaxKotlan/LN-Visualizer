<h3 *ngIf="error">{{ error }}</h3>
<div style="display: flex">
    <mat-form-field style="margin-right: 10px">
        <mat-label>Evaluate Mode</mat-label>
        <mat-select [(ngModel)]="evalMode">
            <mat-option [value]="'add'">On Add</mat-option>
            <mat-option [value]="'type'">On Type</mat-option>
        </mat-select>
    </mat-form-field>
    <mat-form-field>
        <mat-label>Script Type</mat-label>
        <mat-select disabled [(ngModel)]="scriptType">
            <mat-option [value]="'channel'">channel</mat-option>
            <mat-option [value]="'node'">node</mat-option>
        </mat-select>
    </mat-form-field>
</div>
<div style="display: flex">
    <ngx-codemirror
        style="width: 100%"
        [(ngModel)]="expression"
        (ngModelChange)="evalMode === 'type' ? expressionEval($event) : ''"
        [options]="{
            lineNumbers: true,
            gutter: true,
            lineWrapping: true,
            theme: 'material',
            mode: 'javascript'
        }"
    ></ngx-codemirror>
    <button
        class="not-inline"
        (click)="createExpression()"
        style="transform: scale(0.6)"
        mat-mini-fab
        color="primary"
        aria-label="Example icon button with a delete icon"
    >
        <mat-icon>add</mat-icon>
    </button>
</div>
